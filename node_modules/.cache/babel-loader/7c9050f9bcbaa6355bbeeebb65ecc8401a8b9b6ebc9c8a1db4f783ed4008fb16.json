{"ast":null,"code":"import React,{useState}from\"react\";import{Link,Routes,Route,useNavigate}from'react-router-dom';import SelectComponent from\"./SelectComponent\";import Lifestyle from\"./Lifestyle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Match=()=>{const initialOptions=[{key:1,value:'Coffee Date'},{key:2,value:'Dinner at a Nice Restaurant'},{key:3,value:'Movie Night'},{key:4,value:'Escape Room Challenge'},{key:5,value:'Street Food Adventure'},{key:6,value:'Rooftop Bar Experience'},{key:7,value:'Visit Nguyen Hue Walking Street'},{key:8,value:'Saigon River Cruise'},{key:9,value:'Study Date'}];const navigate=useNavigate();const[selectedOptions,setSelectedOptions]=useState([]);const[availableOptions,setAvailableOptions]=useState(initialOptions);function handleSelectChange(selectedOption){// Check if the option is already selected\nif(!selectedOptions.includes(selectedOption)){setSelectedOptions([...selectedOptions,selectedOption]);// Remove the selected option from the available options list\nsetAvailableOptions(prevOptions=>prevOptions.filter(opt=>opt.key!==selectedOption));}}function handleRemoveOption(selectedOption){// Remove the selected option from the selected options list\nsetSelectedOptions(prevOptions=>prevOptions.filter(opt=>opt!==selectedOption));// Add the selected option back to the available options list\nconst removedOption=selectedOptions.find(opt=>opt===selectedOption);if(removedOption){setAvailableOptions(prevOptions=>[...prevOptions,removedOption]);}}async function handleSubmit(event){event.preventDefault();const formData={traits:selectedOptions};try{const response=await fetch('http://localhost:3001/matchData',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await response.json();if(data.success){console.log('Data saved successfully.');console.log(data);navigate(\"/lifestyle\");}else{console.error('Error saving data:',data.message);}}catch(error){console.error('Error saving data:',error);}}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/lifestyle\"}),/*#__PURE__*/_jsx(Routes,{children:/*#__PURE__*/_jsx(Route,{path:\"/lifestyle\",element:/*#__PURE__*/_jsx(Lifestyle,{})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text\",children:[\" Your top \",/*#__PURE__*/_jsx(\"br\",{}),\"first 3 dates \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,method:\"post\",action:\"/matchData\",children:[[1,2,3].map(index=>/*#__PURE__*/_jsx(\"div\",{className:\"menu-item\",children:/*#__PURE__*/_jsx(SelectComponent,{options:availableOptions,placeholder:\"Click to select\",onChange:item=>handleSelectChange(item),selectedOptions:selectedOptions,onRemove:item=>handleRemoveOption(item)},index)})),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-2\",children:\"Last One\"})]})]})]});};export default Match;","map":{"version":3,"names":["React","useState","Link","Routes","Route","useNavigate","SelectComponent","Lifestyle","jsx","_jsx","jsxs","_jsxs","Match","initialOptions","key","value","navigate","selectedOptions","setSelectedOptions","availableOptions","setAvailableOptions","handleSelectChange","selectedOption","includes","prevOptions","filter","opt","handleRemoveOption","removedOption","find","handleSubmit","event","preventDefault","formData","traits","response","fetch","method","headers","body","JSON","stringify","data","json","success","console","log","error","message","Fragment","children","to","path","element","className","onSubmit","action","map","index","options","placeholder","onChange","item","onRemove","type"],"sources":["C:/Users/nguye/Documents/GitHub/Project4ver1/find_ym/src/Pages/Match.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Routes, Route, useNavigate } from 'react-router-dom';\r\nimport SelectComponent from \"./SelectComponent\";\r\nimport Lifestyle from \"./Lifestyle\";\r\n\r\nconst Match = () => {\r\n  const initialOptions = [\r\n    { key: 1, value: 'Coffee Date' },\r\n    { key: 2, value: 'Dinner at a Nice Restaurant' },\r\n    { key: 3, value: 'Movie Night' },\r\n    { key: 4, value: 'Escape Room Challenge' },\r\n    { key: 5, value: 'Street Food Adventure' },\r\n    { key: 6, value: 'Rooftop Bar Experience' },\r\n    { key: 7, value: 'Visit Nguyen Hue Walking Street' },\r\n    { key: 8, value: 'Saigon River Cruise' },\r\n    { key: 9, value: 'Study Date' },\r\n  ];\r\n\r\n  const navigate = useNavigate();\r\n  const [selectedOptions, setSelectedOptions] = useState([]);\r\n  const [availableOptions, setAvailableOptions] = useState(initialOptions);\r\n\r\n  function handleSelectChange(selectedOption) {\r\n    // Check if the option is already selected\r\n    if (!selectedOptions.includes(selectedOption)) {\r\n      setSelectedOptions([...selectedOptions, selectedOption]);\r\n\r\n      // Remove the selected option from the available options list\r\n      setAvailableOptions((prevOptions) => prevOptions.filter(opt => opt.key !== selectedOption));\r\n    }\r\n  }\r\n\r\n  function handleRemoveOption(selectedOption) {\r\n    // Remove the selected option from the selected options list\r\n    setSelectedOptions((prevOptions) => prevOptions.filter(opt => opt !== selectedOption));\r\n\r\n    // Add the selected option back to the available options list\r\n    const removedOption = selectedOptions.find(opt => opt === selectedOption);\r\n    if (removedOption) {\r\n      setAvailableOptions((prevOptions) => [...prevOptions, removedOption]);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const formData = {\r\n      traits: selectedOptions,\r\n    };\r\n    try {\r\n      const response = await fetch('http://localhost:3001/matchData', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        console.log('Data saved successfully.');\r\n        console.log(data);\r\n        navigate(\"/lifestyle\");\r\n      } else {\r\n        console.error('Error saving data:', data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving data:', error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Link to='/lifestyle'></Link>\r\n      <Routes>\r\n        <Route path=\"/lifestyle\" element={<Lifestyle />} />\r\n      </Routes>\r\n      <div className='main-container'>\r\n        <span className='text'> Your top <br />\r\n        first 3 dates <br />\r\n        </span>\r\n\r\n        <form onSubmit={handleSubmit} method=\"post\" action=\"/matchData\">\r\n          {[1, 2, 3].map((index) => (\r\n            <div className=\"menu-item\">\r\n            <SelectComponent \r\n              key={index}\r\n              options={availableOptions}\r\n              placeholder={\"Click to select\"}\r\n              onChange={(item) => handleSelectChange(item)}\r\n              selectedOptions={selectedOptions}\r\n              onRemove={(item) => handleRemoveOption(item)}\r\n            />\r\n          </div>\r\n          ))}\r\n           <button type=\"submit\" className=\"btn-2\" >Last One</button>\r\n        </form>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Match;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}